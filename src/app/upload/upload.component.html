<div class="row justify-content-center">
  <div class="col-6">
    <h2>Upload File</h2>

    <div *ngIf="showInstructions">
      <p>A dataset must first be uploaded before results can be produced. The file must be a comma-seperate values file (CSV) with the following field names:</p>
      <ol>
        <li>EventNbr</li>
        <li>Init_DateTime</li>
        <li>SourceCall</li>
        <li>EventType</li>
        <li>UnitId</li>
        <li>OfcrName</li>
        <li>CaseNbr</li>
        <li>ClrOfficerBadge</li>
      </ol>
    </div>

    <button class="btn btn-secondary btn-sm" (click)="toggleInstructions()">
      <div *ngIf="!showInstructions">Click here for instructions</div>
      <div *ngIf="showInstructions">Hide instructions</div>
    </button>

    <hr>

    <h5><strong>Step 1:</strong> Select</h5>
    <input type='file' (change)="fileChanged($event)"/>

    <h5 [ngClass]="{'disabled': !file}"><strong>Step 2:</strong> Verify</h5>
    <button class="btn btn-primary btn-block" [ngClass]="{'disabled': !file}" [disabled]="!file" (click)="verify()">
      Verify
    </button>
    <div class="verification-message" *ngIf="verifier">
      <div class="alert" [ngClass]="{'alert-danger': !verifier.result, 'alert-success': verifier.result}">
        <span class="dingbat" *ngIf="verifier.result"> &#10003; </span>
        <span class="dingbat" *ngIf="!verifier.result"> &#10007; </span>
        <span class="message"> {{ verifier.message }} </span>
      </div>
    </div>

    <div *ngIf="verifier">
      <h5 [ngClass]="{'disabled': !verifier.result}"><strong>Step 3:</strong> Upload</h5>
      <button class="btn btn-success btn-block" [ngClass]="{'disabled': !verifier.result}" [disabled]="!verifier.result" (click)="upload()">
        Upload
      </button>
    </div>

  </div>
</div>
